"0","allTracts <- rbind(tracts09,tracts17)"
"0","DCmetro_MRB <- multipleRingBuffer(st_union(metroStops), 9240, 1320)"
"0",""
"0","allTracts.rings <-"
"0","  st_join(st_centroid(dplyr::select(allTracts, GEOID, year)),"
"0","          DCmetro_MRB) %>%"
"0","  st_drop_geometry() %>%"
"0","  left_join(dplyr::select(allTracts, GEOID, MedRent, year), "
"0","            by=c(""GEOID""=""GEOID"", ""year""=""year"")) %>%"
"0","  st_sf() %>%"
"0","  mutate(distance = distance / 5280) #convert to miles"
"0","  "
"0","allTracts.rings.summary <- st_drop_geometry(allTracts.rings) %>%"
"0","    group_by(distance, year) %>%"
"0","    summarize(Mean_Rent = mean(MedRent, na.rm=T))"
"0",""
"0","ggplot(allTracts.rings.summary, "
"0","       aes(distance, Mean_Rent, colour=year)) +"
"0","      geom_point(size=3) + "
"0","  geom_line(size=2)"
